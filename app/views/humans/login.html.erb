<div class="sm:pt-2 sm:px-2 sm:flex-grow flex flex-col justify-center">
  <%= form_tag authenticate_path do %>
    <div class="flex items-center">
      <div class="


w-full
flex items-center flex-col

sm:m-auto sm:max-w-md sm:rounded-lg sm:border
sm:align-center

 

                  ">
        <div class="flex w-full border-b items-center">
          <% if relying_party&.logo_url&.present? %>
            <div class="flex-grow flex justify-center">
              <%= image_tag(relying_party.logo_url, class: 'h-6 my-3 self-center') %>
            </div>
          <% else %>
            <%= image_tag('logo.png', class: 'h-4 m-3') %>
            <h1 class="text-gray-500">
              <%= name %>
            </h1>
          <% end %>
        </div>
        <div class="
                    w-full
                    flex items-center flex-col
                    pb-10

                    px-6
                    sm:px-10 
          ">
          <h2 class="text-2xl pt-8">
            Login
          </h2>
            <p class="text-gray-600 text-sm max-w-xs text-center mt-1">
              <% if relying_party %>
                You will be redirected to <%= relying_party.name %>
              <% else %>
                This is where you login to your
                dashboard on <%= name %>.
              <% end %>
            </p>
          <label class="w-full mt-8">
            <p class="input-label">
              E-mail
            </p>
            <%= hidden_field_tag :relying_party_id, relying_party&.id %>
            <%= email_field_tag :email, @auth_request.email, class: 'login-input', autofocus: !flash[:password_message].present?, placeholder: flash[:email_message] %>
          </label>
          <label class="mt-3 w-full">
            <% if flash[:password_message].present? %>
              <p class="input-label font-bold">
                <%= flash[:password_message] %>
              </p>
              <%= password_field_tag :password, nil, class: "login-input", autofocus: true %>
            <% else %>
              <p class="input-label">
                Password
              </p>
              <%= password_field_tag :password, nil, class: "login-input" %>
            <% end %>
          </label>
          <div class="flex w-full justify-end items-center mt-6">
            <% if personal_data %>
              <div class="mr-4 text-gray-500">
                <% if relying_party %>
                  <%= link_to "Use #{personal_data.email}", go_to_path(relying_party_id: relying_party.id) %>
                <% else %>
                  <%= link_to "Use #{personal_data.email}", dashboard_path %>
                <% end %>
              </div>
            <% end %>
            <%= submit_tag 'Login &rarr;'.html_safe, class: 'button primary self-end' %>
          </div>

        </div>
      </div>
    </div>
  <% end %>

</div>
